(()=>{"use strict";function t(t){const e=document.querySelectorAll(".temperature");let n;"C"===t?e.forEach((t=>{t.classList.contains("H")?(n=t.textContent.split(":")[1],t.textContent="H:"+Math.round(5*(parseInt(n)-32)/9*10)/10+"°"):t.classList.contains("L")?(n=t.textContent.split(":")[1],t.textContent="L:"+Math.round(5*(parseInt(n)-32)/9*10)/10+"°"):(n=t.textContent,t.textContent=Math.round(5*(parseInt(n)-32)/9*10)/10+"°")})):e.forEach((t=>{t.classList.contains("H")?(n=t.textContent.split(":")[1],t.textContent="H:"+Math.round(10*(9*parseInt(n)/5+32))/10+"°"):t.classList.contains("L")?(n=t.textContent.split(":")[1],t.textContent="L:"+Math.round(10*(9*parseInt(n)/5+32))/10+"°"):(n=t.textContent,t.textContent=Math.round(10*(9*parseInt(n)/5+32))/10+"°")}))}const e=document.getElementById("content"),n=document.createElement("div");n.classList.add("weather-info"),e.appendChild(function(){const e=document.createElement("div");e.classList.add("header");const n=document.createElement("h2");n.textContent="Weather Forecast";const a=document.createElement("div");a.classList.add("form");const c=document.createElement("input");c.type="text",c.placeholder="Enter a city";const s=document.createElement("button");return s.type="button",s.textContent="Submit",a.append(c,s),s.addEventListener("click",(()=>{!async function(e){let n="C",a=await async function(t){try{let e=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=78d36d58a15bd9581b441f7e0a2b6faa`,{mode:"cors"});return await e.json()}catch(t){console.log(t)}}(e),c=((t,e,n,a)=>{const c=n.description,s=e.humidity;let o,d,i,r;return o=Math.round(10*(e.temp-273.15))/10,d=Math.round(10*(e.feels_like-273.15))/10,i=Math.round(10*(e.temp_min-273.15))/10,r=Math.round(10*(e.temp_max-273.15))/10,{city:t,description:c,temperature:o,feelslike:d,min:i,max:r,humidity:s}})(a.name,a.main,a.weather[0]);const s=document.querySelector(".weather-info");for(;s.firstChild;)s.removeChild(s.firstChild);const o=document.createElement("div");o.classList.add("scale-buttons");const d=document.createElement("button");d.type="button",d.classList.add("celsius","active"),d.textContent="C";const i=document.createElement("button");i.type="button",i.classList.add("fahrenheit"),i.textContent="F",o.append(d,i),d.addEventListener("click",(()=>{"F"===n&&(n="C",t(n),i.classList.remove("active"),d.classList.add("active"))})),i.addEventListener("click",(()=>{"C"===n&&(n="F",t(n),i.classList.add("active"),d.classList.remove("active"))}));const r=document.createElement("p");r.classList.add("city-name"),r.textContent=c.city.toUpperCase();const l=document.createElement("p");l.classList.add("temperature","current"),l.textContent=c.temperature+"°";const m=document.createElement("p");m.textContent=c.description;const u=document.createElement("div");u.classList.add("temperature-limits");const p=document.createElement("p");p.classList.add("temperature","L"),p.textContent="L:"+c.min+"°";const C=document.createElement("p");C.classList.add("temperature","H"),C.textContent="H:"+c.max+"°",u.append(C,p);const h=document.createElement("p");h.textContent="Humidity: "+c.humidity+"%",s.append(o,r,l,m,u,h),document.getElementById("content").appendChild(s)}(c.value[0].toUpperCase()+c.value.slice(1).toLowerCase())})),e.append(n,a),e}()),e.appendChild(n)})();